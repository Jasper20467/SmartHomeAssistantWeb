{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/schedule.service\";\nimport * as i2 from \"../../shared/services/consumable.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../shared/components/loading-spinner/loading-spinner.component\";\nconst _c0 = (a0, a1) => ({\n  \"warning\": a0,\n  \"danger\": a1\n});\nfunction DashboardComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction DashboardComponent_app_loading_spinner_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\");\n  }\n}\nfunction DashboardComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" \\u76EE\\u524D\\u6C92\\u6709\\u884C\\u7A0B \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_11_div_2_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const schedule_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", schedule_r2.description, \" \");\n  }\n}\nfunction DashboardComponent_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, DashboardComponent_div_11_div_2_p_6_Template, 2, 1, \"p\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const schedule_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(schedule_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 3, schedule_r2.start_time, \"yyyy-MM-dd HH:mm\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", schedule_r2.description);\n  }\n}\nfunction DashboardComponent_div_11_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"a\", 21);\n    i0.ɵɵtext(2, \"\\u67E5\\u770B\\u5168\\u90E8\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtemplate(1, DashboardComponent_div_11_div_1_Template, 2, 0, \"div\", 11)(2, DashboardComponent_div_11_div_2_Template, 7, 6, \"div\", 12)(3, DashboardComponent_div_11_div_3_Template, 3, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.schedules.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.schedules.slice(0, 5));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.schedules.length > 0);\n  }\n}\nfunction DashboardComponent_app_loading_spinner_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\");\n  }\n}\nfunction DashboardComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" \\u5C1A\\u7121\\u8017\\u6750\\u8CC7\\u8A0A \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_16_div_2_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const consumable_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u5269\\u9918: \", consumable_r3.days_remaining, \" \\u5929 \");\n  }\n}\nfunction DashboardComponent_div_16_div_2_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" \\u5DF2\\u904E\\u671F \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 26);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 27);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 28);\n    i0.ɵɵtemplate(7, DashboardComponent_div_16_div_2_span_7_Template, 2, 1, \"span\", 6)(8, DashboardComponent_div_16_div_2_span_8_Template, 2, 0, \"span\", 6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const consumable_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(consumable_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(consumable_r3.category);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, consumable_r3.days_remaining && consumable_r3.days_remaining < 30, consumable_r3.days_remaining && consumable_r3.days_remaining <= 0));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", consumable_r3.days_remaining !== undefined && consumable_r3.days_remaining > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", consumable_r3.days_remaining !== undefined && consumable_r3.days_remaining <= 0);\n  }\n}\nfunction DashboardComponent_div_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"a\", 29);\n    i0.ɵɵtext(2, \"\\u67E5\\u770B\\u5168\\u90E8\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, DashboardComponent_div_16_div_1_Template, 2, 0, \"div\", 11)(2, DashboardComponent_div_16_div_2_Template, 9, 8, \"div\", 23)(3, DashboardComponent_div_16_div_3_Template, 3, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consumables.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.consumables.slice(0, 5));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consumables.length > 0);\n  }\n}\nexport class DashboardComponent {\n  constructor(scheduleService, consumableService) {\n    this.scheduleService = scheduleService;\n    this.consumableService = consumableService;\n    this.schedules = [];\n    this.consumables = [];\n    this.isLoadingSchedules = true;\n    this.isLoadingConsumables = true;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.loadDashboardData();\n  }\n  loadDashboardData() {\n    this.isLoadingSchedules = true;\n    this.isLoadingConsumables = true;\n    this.scheduleService.getSchedules().subscribe({\n      next: data => {\n        this.schedules = data;\n        this.isLoadingSchedules = false;\n      },\n      error: error => {\n        console.error('Error loading schedules', error);\n        this.error = '無法載入行事曆資料';\n        this.isLoadingSchedules = false;\n      }\n    });\n    this.consumableService.getConsumables().subscribe({\n      next: data => {\n        this.consumables = data;\n        this.isLoadingConsumables = false;\n      },\n      error: error => {\n        console.error('Error loading consumables', error);\n        this.error = '無法載入耗材資料';\n        this.isLoadingConsumables = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.ScheduleService), i0.ɵɵdirectiveInject(i2.ConsumableService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 17,\n      vars: 5,\n      consts: [[1, \"container\"], [1, \"page-title\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"btn\", \"refresh-btn\", 3, \"click\"], [1, \"dashboard-grid\"], [1, \"card\"], [4, \"ngIf\"], [\"class\", \"schedule-list\", 4, \"ngIf\"], [\"class\", \"consumables-list\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"schedule-list\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"schedule-item\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"view-all\", 4, \"ngIf\"], [1, \"empty-state\"], [1, \"schedule-item\"], [1, \"schedule-title\"], [1, \"schedule-time\"], [\"class\", \"schedule-description\", 4, \"ngIf\"], [1, \"schedule-description\"], [1, \"view-all\"], [\"routerLink\", \"/schedule\"], [1, \"consumables-list\"], [\"class\", \"consumable-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"consumable-item\"], [1, \"consumable-header\"], [1, \"consumable-name\"], [1, \"consumable-category\"], [1, \"consumable-status\", 3, \"ngClass\"], [\"routerLink\", \"/consumable\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \"\\u5100\\u8868\\u677F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, DashboardComponent_div_3_Template, 2, 1, \"div\", 2);\n          i0.ɵɵelementStart(4, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_4_listener() {\n            return ctx.loadDashboardData();\n          });\n          i0.ɵɵtext(5, \"\\u91CD\\u65B0\\u6574\\u7406\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"h2\");\n          i0.ɵɵtext(9, \"\\u8FD1\\u671F\\u884C\\u7A0B\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, DashboardComponent_app_loading_spinner_10_Template, 1, 0, \"app-loading-spinner\", 6)(11, DashboardComponent_div_11_Template, 4, 3, \"div\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 5)(13, \"h2\");\n          i0.ɵɵtext(14, \"\\u8017\\u6750\\u72C0\\u614B\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(15, DashboardComponent_app_loading_spinner_15_Template, 1, 0, \"app-loading-spinner\", 6)(16, DashboardComponent_div_16_Template, 4, 3, \"div\", 8);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoadingSchedules);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoadingSchedules);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoadingConsumables);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoadingConsumables);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i5.LoadingSpinnerComponent, i3.DatePipe],\n      styles: [\".refresh-btn[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.dashboard-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));\\n  gap: 1.5rem;\\n}\\n\\n.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-top: 0;\\n  margin-bottom: 1.5rem;\\n  font-size: 1.25rem;\\n  color: #4b5563;\\n  border-bottom: 1px solid #e5e7eb;\\n  padding-bottom: 0.75rem;\\n}\\n\\n.empty-state[_ngcontent-%COMP%] {\\n  padding: 2rem 0;\\n  text-align: center;\\n  color: #6b7280;\\n  font-style: italic;\\n}\\n\\n.schedule-item[_ngcontent-%COMP%] {\\n  padding: 1rem 0;\\n  border-bottom: 1px solid #e5e7eb;\\n}\\n\\n.schedule-item[_ngcontent-%COMP%]:last-child {\\n  border-bottom: none;\\n}\\n\\n.schedule-title[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  font-size: 1rem;\\n  margin-bottom: 0.25rem;\\n}\\n\\n.schedule-time[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  color: #6b7280;\\n  margin-bottom: 0.25rem;\\n}\\n\\n.schedule-description[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  margin: 0.5rem 0 0;\\n  color: #4b5563;\\n}\\n\\n.consumable-item[_ngcontent-%COMP%] {\\n  padding: 1rem 0;\\n  border-bottom: 1px solid #e5e7eb;\\n}\\n\\n.consumable-item[_ngcontent-%COMP%]:last-child {\\n  border-bottom: none;\\n}\\n\\n.consumable-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.consumable-name[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.consumable-category[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n  color: #6b7280;\\n  background-color: #e5e7eb;\\n  padding: 0.25rem 0.5rem;\\n  border-radius: 4px;\\n}\\n\\n.consumable-status[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  color: #4b5563;\\n}\\n\\n.consumable-status.warning[_ngcontent-%COMP%] {\\n  color: #d97706;\\n}\\n\\n.consumable-status.danger[_ngcontent-%COMP%] {\\n  color: #dc2626;\\n}\\n\\n.view-all[_ngcontent-%COMP%] {\\n  margin-top: 1rem;\\n  text-align: right;\\n}\\n\\n.view-all[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #3b82f6;\\n  text-decoration: none;\\n  font-size: 0.875rem;\\n}\\n\\n.view-all[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n.alert[_ngcontent-%COMP%] {\\n  padding: 1rem;\\n  margin-bottom: 1.5rem;\\n  border-radius: 4px;\\n  font-weight: 500;\\n}\\n\\n.alert-danger[_ngcontent-%COMP%] {\\n  background-color: #f8d7da;\\n  color: #842029;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsNERBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxnQ0FBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxnQ0FBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxzQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxnQ0FBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLDBCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLGNBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5yZWZyZXNoLWJ0biB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xyXG59XHJcblxyXG4uZGFzaGJvYXJkLWdyaWQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoNDAwcHgsIDFmcikpO1xyXG4gIGdhcDogMS41cmVtO1xyXG59XHJcblxyXG4uY2FyZCBoMiB7XHJcbiAgbWFyZ2luLXRvcDogMDtcclxuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XHJcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xyXG4gIGNvbG9yOiAjNGI1NTYzO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViO1xyXG4gIHBhZGRpbmctYm90dG9tOiAwLjc1cmVtO1xyXG59XHJcblxyXG4uZW1wdHktc3RhdGUge1xyXG4gIHBhZGRpbmc6IDJyZW0gMDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY29sb3I6ICM2YjcyODA7XHJcbiAgZm9udC1zdHlsZTogaXRhbGljO1xyXG59XHJcblxyXG4uc2NoZWR1bGUtaXRlbSB7XHJcbiAgcGFkZGluZzogMXJlbSAwO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViO1xyXG59XHJcblxyXG4uc2NoZWR1bGUtaXRlbTpsYXN0LWNoaWxkIHtcclxuICBib3JkZXItYm90dG9tOiBub25lO1xyXG59XHJcblxyXG4uc2NoZWR1bGUtdGl0bGUge1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuMjVyZW07XHJcbn1cclxuXHJcbi5zY2hlZHVsZS10aW1lIHtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG4gIGNvbG9yOiAjNmI3MjgwO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuMjVyZW07XHJcbn1cclxuXHJcbi5zY2hlZHVsZS1kZXNjcmlwdGlvbiB7XHJcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICBtYXJnaW46IDAuNXJlbSAwIDA7XHJcbiAgY29sb3I6ICM0YjU1NjM7XHJcbn1cclxuXHJcbi5jb25zdW1hYmxlLWl0ZW0ge1xyXG4gIHBhZGRpbmc6IDFyZW0gMDtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTdlYjtcclxufVxyXG5cclxuLmNvbnN1bWFibGUtaXRlbTpsYXN0LWNoaWxkIHtcclxuICBib3JkZXItYm90dG9tOiBub25lO1xyXG59XHJcblxyXG4uY29uc3VtYWJsZS1oZWFkZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG59XHJcblxyXG4uY29uc3VtYWJsZS1uYW1lIHtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4uY29uc3VtYWJsZS1jYXRlZ29yeSB7XHJcbiAgZm9udC1zaXplOiAwLjc1cmVtO1xyXG4gIGNvbG9yOiAjNmI3MjgwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNWU3ZWI7XHJcbiAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG59XHJcblxyXG4uY29uc3VtYWJsZS1zdGF0dXMge1xyXG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgY29sb3I6ICM0YjU1NjM7XHJcbn1cclxuXHJcbi5jb25zdW1hYmxlLXN0YXR1cy53YXJuaW5nIHtcclxuICBjb2xvcjogI2Q5NzcwNjtcclxufVxyXG5cclxuLmNvbnN1bWFibGUtc3RhdHVzLmRhbmdlciB7XHJcbiAgY29sb3I6ICNkYzI2MjY7XHJcbn1cclxuXHJcbi52aWV3LWFsbCB7XHJcbiAgbWFyZ2luLXRvcDogMXJlbTtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuLnZpZXctYWxsIGEge1xyXG4gIGNvbG9yOiAjM2I4MmY2O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBmb250LXNpemU6IDAuODc1cmVtO1xyXG59XHJcblxyXG4udmlldy1hbGwgYTpob3ZlciB7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbn1cclxuXHJcbi5hbGVydCB7XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5hbGVydC1kYW5nZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGQ3ZGE7XHJcbiAgY29sb3I6ICM4NDIwMjk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","ɵɵelement","ɵɵtextInterpolate1","schedule_r2","description","ɵɵtemplate","DashboardComponent_div_11_div_2_p_6_Template","title","ɵɵpipeBind2","start_time","ɵɵproperty","DashboardComponent_div_11_div_1_Template","DashboardComponent_div_11_div_2_Template","DashboardComponent_div_11_div_3_Template","schedules","length","slice","consumable_r3","days_remaining","DashboardComponent_div_16_div_2_span_7_Template","DashboardComponent_div_16_div_2_span_8_Template","name","category","ɵɵpureFunction2","_c0","undefined","DashboardComponent_div_16_div_1_Template","DashboardComponent_div_16_div_2_Template","DashboardComponent_div_16_div_3_Template","consumables","DashboardComponent","constructor","scheduleService","consumableService","isLoadingSchedules","isLoadingConsumables","ngOnInit","loadDashboardData","getSchedules","subscribe","next","data","console","getConsumables","ɵɵdirectiveInject","i1","ScheduleService","i2","ConsumableService","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","DashboardComponent_div_3_Template","ɵɵlistener","DashboardComponent_Template_button_click_4_listener","DashboardComponent_app_loading_spinner_10_Template","DashboardComponent_div_11_Template","DashboardComponent_app_loading_spinner_15_Template","DashboardComponent_div_16_Template"],"sources":["C:\\Users\\jasper\\source\\repos\\SideProject\\SmartHomeAssistantWeb\\frontend\\src\\app\\pages\\dashboard\\dashboard.component.ts","C:\\Users\\jasper\\source\\repos\\SideProject\\SmartHomeAssistantWeb\\frontend\\src\\app\\pages\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Schedule } from '../../shared/models/schedule.model';\r\nimport { Consumable } from '../../shared/models/consumable.model';\r\nimport { ScheduleService } from '../../shared/services/schedule.service';\r\nimport { ConsumableService } from '../../shared/services/consumable.service';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  schedules: Schedule[] = [];\r\n  consumables: Consumable[] = [];\r\n  isLoadingSchedules = true;\r\n  isLoadingConsumables = true;\r\n  error: string | null = null;\r\n\r\n  constructor(\r\n    private scheduleService: ScheduleService,\r\n    private consumableService: ConsumableService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadDashboardData();\r\n  }\r\n\r\n  loadDashboardData(): void {\r\n    this.isLoadingSchedules = true;\r\n    this.isLoadingConsumables = true;\r\n    \r\n    this.scheduleService.getSchedules().subscribe({\r\n      next: (data) => {\r\n        this.schedules = data;\r\n        this.isLoadingSchedules = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading schedules', error);\r\n        this.error = '無法載入行事曆資料';\r\n        this.isLoadingSchedules = false;\r\n      }\r\n    });\r\n\r\n    this.consumableService.getConsumables().subscribe({\r\n      next: (data) => {\r\n        this.consumables = data;\r\n        this.isLoadingConsumables = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading consumables', error);\r\n        this.error = '無法載入耗材資料';\r\n        this.isLoadingConsumables = false;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <h1 class=\"page-title\">儀表板</h1>\r\n  \r\n  <div *ngIf=\"error\" class=\"alert alert-danger\">{{ error }}</div>\r\n  \r\n  <button class=\"btn refresh-btn\" (click)=\"loadDashboardData()\">重新整理</button>\r\n  \r\n  <div class=\"dashboard-grid\">\r\n    <!-- 近期行事曆 -->\r\n    <div class=\"card\">\r\n      <h2>近期行程</h2>\r\n      \r\n      <app-loading-spinner *ngIf=\"isLoadingSchedules\"></app-loading-spinner>\r\n      \r\n      <div *ngIf=\"!isLoadingSchedules\" class=\"schedule-list\">\r\n        <div *ngIf=\"schedules.length === 0\" class=\"empty-state\">\r\n          目前沒有行程\r\n        </div>\r\n        \r\n        <div *ngFor=\"let schedule of schedules.slice(0, 5)\" class=\"schedule-item\">\r\n          <div class=\"schedule-title\">{{ schedule.title }}</div>\r\n          <div class=\"schedule-time\">\r\n            {{ schedule.start_time | date:'yyyy-MM-dd HH:mm' }}\r\n          </div>\r\n          <p *ngIf=\"schedule.description\" class=\"schedule-description\">\r\n            {{ schedule.description }}\r\n          </p>\r\n        </div>\r\n        \r\n        <div *ngIf=\"schedules.length > 0\" class=\"view-all\">\r\n          <a routerLink=\"/schedule\">查看全部</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 耗材狀態 -->\r\n    <div class=\"card\">\r\n      <h2>耗材狀態</h2>\r\n      \r\n      <app-loading-spinner *ngIf=\"isLoadingConsumables\"></app-loading-spinner>\r\n      \r\n      <div *ngIf=\"!isLoadingConsumables\" class=\"consumables-list\">\r\n        <div *ngIf=\"consumables.length === 0\" class=\"empty-state\">\r\n          尚無耗材資訊\r\n        </div>\r\n        \r\n        <div *ngFor=\"let consumable of consumables.slice(0, 5)\" class=\"consumable-item\">\r\n          <div class=\"consumable-header\">\r\n            <div class=\"consumable-name\">{{ consumable.name }}</div>\r\n            <div class=\"consumable-category\">{{ consumable.category }}</div>\r\n          </div>\r\n          \r\n          <div class=\"consumable-status\" [ngClass]=\"{'warning': consumable.days_remaining && consumable.days_remaining < 30, 'danger': consumable.days_remaining && consumable.days_remaining <= 0}\">\r\n            <span *ngIf=\"consumable.days_remaining !== undefined && consumable.days_remaining > 0\">\r\n              剩餘: {{ consumable.days_remaining }} 天\r\n            </span>\r\n            <span *ngIf=\"consumable.days_remaining !== undefined && consumable.days_remaining <= 0\">\r\n              已過期\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div *ngIf=\"consumables.length > 0\" class=\"view-all\">\r\n          <a routerLink=\"/consumable\">查看全部</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}